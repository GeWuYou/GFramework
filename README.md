# GFramework

> ä¸“ä¸ºæ¸¸æˆå¼€å‘åœºæ™¯è®¾è®¡çš„ç»¼åˆæ€§C#æ¸¸æˆå¼€å‘æ¡†æ¶ï¼ŒCore æ¨¡å—ä¸å¹³å°æ— å…³

[![NuGet](https://img.shields.io/badge/NuGet-GeWuYou.GFramework-blue)](https://www.nuget.org/packages/GeWuYou.GFramework.Core/)
[![Godot](https://img.shields.io/badge/Godot-4.5+-green)](https://godotengine.org/)
[![.NET](https://img.shields.io/badge/.NET-6.0+-purple)](https://dotnet.microsoft.com/)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue)](LICENSE)
[![zread](https://img.shields.io/badge/Ask_Zread-_.svg?style=flat&color=00b0aa&labelColor=000000&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuOTYxNTYgMS42MDAxSDIuMjQxNTZDMS44ODgxIDEuNjAwMSAxLjYwMTU2IDEuODg2NjQgMS42MDE1NiAyLjI0MDFWNC45NjAxQzEuNjAxNTYgNS4zMTM1NiAxLjg4ODEgNS42MDAxIDIuMjQxNTYgNS42MDAxSDQuOTYxNTZDNS4zMTUwMiA1LjYwMDEgNS42MDE1NiA1LjMxMzU2IDUuNjAxNTYgNC45NjAxVjIuMjQwMUM1LjYwMTU2IDEuODg2NjQgNS4zMTUwMiAxLjYwMDEgNC45NjE1NiAxLjYwMDFaIiBmaWxsPSIjZmZmIi8%2BCjxwYXRoIGQ9Ik00Ljk2MTU2IDEwLjM5OTlIMi4yNDE1NkMxLjg4ODEgMTAuMzk5OSAxLjYwMTU2IDEwLjY4NjQgMS42MDE1NiAxMS4wMzk5VjEzLjc1OTlDMS42MDE1NiAxNC4xMTM0IDEuODg4MSAxNC4zOTk5IDIuMjQxNTYgMTQuMzk5OUg0Ljk2MTU2QzUuMzE1MDIgMTQuMzk5OSA1LjYwMTU2IDE0LjExMzQgNS42MDE1NiAxMy43NTk5VjExLjAzOTlDNS42MDE1NiAxMC42ODY0IDUuMzE1MDIgMTAuMzk5OSA0Ljk2MTU2IDEwLjM5OTlaIiBmaWxsPSIjZmZmIi8%2BCjxwYXRoIGQ9Ik0xMy43NTg0IDEuNjAwMUgxMS4wMzg0QzEwLjY4NSAxLjYwMDEgMTAuMzk4NCAxLjg4NjY0IDEwLjM5ODQgMi4yNDAxVjQuOTYwMUMxMC4zOTg0IDUuMzEzNTYgMTAuNjg1IDUuNjAwMSAxMS4wMzg0IDUuNjAwMUgxMy43NTg0QzE0LjExMTkgNS42MDAxIDE0LjM5ODQgNS4zMTM1NiAxNC4zOTg0IDQuOTYwMVYyLjI0MDFDMTQuMzk4NCAxLjg4NjY0IDE0LjExMTkgMS42MDAxIDEzLjc1ODQgMS42MDAxWiIgZmlsbD0iI2ZmZiIvPgo8cGF0aCBkPSJNNCAxMkwxMiA0TDQgMTJaIiBmaWxsPSIjZmZmIi8%2BCjxwYXRoIGQ9Ik00IDEyTDEyIDQiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K&logoColor=ffffff)](https://zread.ai/GeWuYou/GFramework)

[![Scanned with Feluda](https://img.shields.io/badge/Scanned%20with-Feluda-brightgreen)](https://github.com/anistark/feluda)

æœ¬é¡¹ç›®å‚è€ƒ(CV)è‡ª[QFramework](https://github.com/liangxiegame/QFramework)ï¼Œå¹¶è¿›è¡Œäº†æ¨¡å—åŒ–é‡æ„å’ŒåŠŸèƒ½å¢å¼ºã€‚

## ğŸš€ å¿«é€Ÿå¯¼èˆª

### ğŸ“š å­¦ä¹ è·¯å¾„

#### ğŸ¯ æ–°æ‰‹å…¥é—¨

1. ğŸ“š [ä»é›¶å¼€å§‹æ•™ç¨‹](docs/tutorials/getting-started.md) - å®Œæ•´çš„é¡¹ç›®åˆ›å»ºå’Œå¼€å‘æŒ‡å—
2. ğŸ“– [åŸºæœ¬æ¦‚å¿µ](GFramework.Core/README.md#æ ¸å¿ƒæ¦‚å¿µ) - ç†è§£æ ¸å¿ƒæ¦‚å¿µ
3. ğŸ’¡ [å¿«é€Ÿç¤ºä¾‹](#å¿«é€Ÿå¼€å§‹-getting-started) - 5åˆ†é’Ÿä¸Šæ‰‹ä½“éªŒ

#### ğŸ—ï¸ è¿›é˜¶å¼€å‘

4. ğŸ“– [Godot é›†æˆæ•™ç¨‹](docs/tutorials/godot-integration.md) - æ·±åº¦ Godot é›†æˆå’Œæœ€ä½³å®è·µ
5. âš¡ [é«˜çº§æ¨¡å¼æ•™ç¨‹](docs/tutorials/advanced-patterns.md) - CQRSã€äº‹ä»¶æº¯æºã€æ’ä»¶ç³»ç»Ÿç­‰
6. ğŸ—ï¸ [æ¶æ„æ¨¡å¼æœ€ä½³å®è·µ](docs/best-practices/architecture-patterns.md) - æ¨èçš„æ¶æ„è®¾è®¡æ¨¡å¼
7. ğŸ—ï¸ [æ€§èƒ½ä¼˜åŒ–æŠ€å·§](docs/best-practices/performance-tips.md) - å†…å­˜å’Œæ€§èƒ½ä¼˜åŒ–

#### ğŸ—ï¸ ä¸“å®¶æŒ‡å—

8. ğŸ“Š [API å‚è€ƒ](docs/api-reference/) - è¯¦ç»†çš„ç±»å’Œæ¥å£è¯´æ˜

### ğŸ“– è¯¦ç»†æ–‡æ¡£

#### ğŸ›ï¸ æ ¸å¿ƒé¡¹ç›® Core Projects

- [ğŸ“– **GFramework.Core** - æ ¸å¿ƒæ¡†æ¶åŠŸèƒ½ï¼Œæ¶æ„ã€äº‹ä»¶ã€å‘½ä»¤ã€æŸ¥è¯¢ç­‰ï¼ˆå¹³å°æ— å…³ï¼‰](GFramework.Core/README.md)
- [ğŸ“– **GFramework.Core.Abstractions** - æ ¸å¿ƒæ¥å£å®šä¹‰
- [ğŸ“– **GFramework.Game** - æ¸¸æˆç‰¹å®šæŠ½è±¡å’Œç³»ç»Ÿ
- [ğŸ“– **GFramework.Game.Abstractions** - æ¸¸æˆæŠ½è±¡æ¥å£å®šä¹‰
- [ğŸ“– **GFramework.Godot** - Godot ç‰¹å®šå®ç°ï¼ˆNodeæ‰©å±•ã€GodotLogger ç­‰ï¼‰
- [ğŸ“– **GFramework.SourceGenerators** - é€šç”¨æºä»£ç ç”Ÿæˆå™¨
- [ğŸ“– **GFramework.Godot.SourceGenerators** - Godot ç‰¹å®šçš„ä»£ç ç”Ÿæˆå™¨

#### ğŸ“– æºä»£ç ç”Ÿæˆå™¨ Source Generators

- [ğŸ“– **æ—¥å¿—ç”Ÿæˆå™¨** - è‡ªåŠ¨ ILogger å­—æ®µç”Ÿæˆ
- [ğŸ“– **ä¸Šä¸‹æ–‡æ„ŸçŸ¥ç”Ÿæˆå™¨** - è‡ªåŠ¨ IContextAware å®ç°
- [ğŸ“– **æšä¸¾æ‰©å±•ç”Ÿæˆå™¨** - è‡ªåŠ¨æšä¸¾æ‰©å±•æ–¹æ³•

#### ğŸ“– API å‚è€ƒ

- [ğŸ“– **Core API å‚è€ƒ** - æ ¸å¿ƒç±»å’Œæ¥å£è¯¦ç»†è¯´æ˜
- [ğŸ“– **Godot API å‚è€ƒ** - Godot æ¨¡å— API è¯¦ç»†è¯´æ˜
- [ğŸ“– **Source Generators API å‚è€ƒ** - æºç ç”Ÿæˆå™¨ API è¯¦ç»†è¯´æ˜
- [ğŸ“– **Game API å‚è€ƒ** - Game æ¨¡å— API è¯¦ç»†è¯´æ˜

#### ğŸ—ï¸ æ•™ç¨‹å’ŒæŒ‡å—

- [ğŸ—ï¸ **æ¶æ„æ¨¡å¼æœ€ä½³å®è·µ** - æ¨èçš„æ¶æ„è®¾è®¡æ¨¡å¼
- [ğŸ—ï¸ **æ€§èƒ½ä¼˜åŒ–æŠ€å·§** - å†…å­˜å’Œæ€§èƒ½ä¼˜åŒ–

#### ğŸ—ï¸ å¸¸è§é—®é¢˜è§£å†³

- [ğŸ—ï¸ **é”™è¯¯å¤„ç†ç­–ç•¥** - å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æ¢å¤
- [ğŸ—ï¸ **è°ƒè¯•æŠ€å·§** - è°ƒè¯•å’Œæµ‹è¯•æŒ‡å—

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ—ï¸ æ ¸å¿ƒæ¶æ„ Core Architecture

- **ä¾èµ–æ³¨å…¥ Dependency Injection**: å†…ç½®IoCå®¹å™¨ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ
- **äº‹ä»¶ç³»ç»Ÿ Event System**: ç±»å‹å®‰å…¨çš„äº‹ä»¶ç³»ç»Ÿï¼Œå®ç°æ¾è€¦åˆ
- **å±æ€§ç»‘å®š Property Binding**: å¯ç»‘å®šå±æ€§ï¼Œæ”¯æŒå“åº”å¼ç¼–ç¨‹
- **æ—¥å¿—æ¡†æ¶ Logging Framework**: ç»“æ„åŒ–æ—¥å¿—ï¼Œæ”¯æŒå¤šä¸ªæ—¥å¿—çº§åˆ«
- **ç”Ÿå‘½å‘¨æœŸç®¡ç† Lifecycle Management**: é˜¶æ®µå¼çš„æ¶æ„ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **å‘½ä»¤æŸ¥è¯¢åˆ†ç¦» CQRS**: å‘½ä»¤å’ŒæŸ¥è¯¢çš„èŒè´£åˆ†ç¦»

### ğŸ® æ¸¸æˆå¼€å‘ç‰¹æ€§ Game Development Features

- **èµ„äº§ç®¡ç† Asset Management**: é›†ä¸­åŒ–èµ„äº§ç›®å½•ç³»ç»Ÿ
- **èµ„æºå·¥å‚ Resource Factory**: å·¥å‚æ¨¡å¼çš„èµ„æºåˆ›å»ºæ¨¡å¼
- **æ¶æ„æ¨¡å¼ Architecture Pattern**: å…³æ³¨ç‚¹åˆ†ç¦»çš„æ¸…æ™°æ¶æ„
- **æ¨¡å—åŒ– Module System**: æ”¯æŒæ¶æ„æ¨¡å—å®‰è£…å’Œæ‰©å±•
- **æºç ç”Ÿæˆ Source Generators**: é›¶è¿è¡Œæ—¶å¼€é”€çš„ä»£ç ç”Ÿæˆ

### ğŸŒ å¹³å°æ— å…³ Platform Agnostic

- **çº¯ .NET å®ç°**: Core æ¨¡å—æ— ä»»ä½•å¹³å°ç‰¹å®šä¾èµ–
- **Godot é›†æˆ Godot Integration**: GFramework.Godot æä¾› Godot ç‰¹å®šåŠŸèƒ½
- **å¯ç§»æ¤ Portable**: å¯ä»¥è½»æ¾ç§»æ¤åˆ° Unityã€.NET MAUI ç­‰å¹³å°

## ğŸš€ å¿«é€Ÿå¼€å§‹ Getting Started

### 1ï¸âƒ£ å®‰è£… Installation

```bash
# å®‰è£…æ ¸å¿ƒåŒ…ï¼ˆå¹³å°æ— å…³ï¼‰
dotnet add package GeWuYou.GFramework.Core
dotnet add package GeWuYou.GFramework.Core.Abstractions

# å®‰è£…æ¸¸æˆåŒ…
dotnet add package GeWuYou.GFramework.Game
dotnet add package GeWuYou.GFramework.Game.Abstractions

# å®‰è£…æºç ç”Ÿæˆå™¨ï¼ˆæ¨èï¼‰
dotnet add package GeWuYou.GFramework.SourceGenerators
dotnet add package GeWuYou.GFramework.SourceGenerators.Attributes

# å®‰è£…GodotåŒ…ï¼ˆä»…Godoté¡¹ç›®éœ€è¦ï¼‰
dotnet add package GeWuYou.GFramework.Godot
```

### 2ï¸âƒ£ åŸºæœ¬ä½¿ç”¨ Basic Usage

```csharp
using GFramework.Core.architecture;
using GFramework.SourceGenerators.Attributes;

// 1. å®šä¹‰æ¶æ„ï¼ˆç»§æ‰¿ Architecture åŸºç±»ï¼‰
public class GameArchitecture : Architecture
{
    protected override void Init()
    {
        // æ³¨å†Œ Model - æ¸¸æˆæ•°æ®
        RegisterModel(new PlayerModel());
        RegisterModel(new GameModel());
        
        // æ³¨å†Œ System - ä¸šåŠ¡é€»è¾‘
        RegisterSystem(new CombatSystem());
        RegisterSystem(new UISystem());
        
        // æ³¨å†Œ Utility - å·¥å…·ç±»
        RegisterUtility(new StorageUtility());
    }
}

// 2. åˆ›å»ºå¹¶åˆå§‹åŒ–æ¶æ„
var architecture = new GameArchitecture();
architecture.Initialize();

// 3. é€šè¿‡ä¾èµ–æ³¨å…¥åœ¨Controllerä¸­ä½¿ç”¨
[Log]
[ContextAware]
public partial class PlayerController : IController
{
    private PlayerModel _playerModel;
    
    public PlayerController(IArchitecture architecture)
    {
        _playerModel = architecture.GetModel<PlayerModel>();
    }
    
    // ç›‘å¬å±æ€§å˜åŒ–
    public void Initialize()
    {
        _playerModel.Health.RegisterWithInitValue(hp => UpdateHealthDisplay(hp));
    }
    
    private void UpdateHealthDisplay(int hp)
    {
        // æ›´æ–° UI æ˜¾ç¤º
        Console.WriteLine($"Health: {hp}");
    }
}
```

### 3ï¸âƒ£ å‘½ä»¤å’ŒæŸ¥è¯¢ Command & Query

```csharp
// å®šä¹‰å‘½ä»¤
public class AttackCommand : AbstractCommand
{
    protected override void OnExecute()
    {
        var playerModel = this.GetModel<PlayerModel>();
        var enemyModel = this.GetModel<EnemyModel>();
        
        // ä¸šåŠ¡é€»è¾‘
        int damage = playerModel.AttackPower.Value;
        enemyModel.Health.Value -= damage;
        
        // å‘é€äº‹ä»¶
        this.SendEvent(new DamageDealtEvent { Damage = damage });
    }
}

// å®šä¹‰æŸ¥è¯¢
public class CanAttackQuery : AbstractQuery<bool>
{
    protected override bool OnDo()
    {
        var playerModel = this.GetModel<PlayerModel>();
        return playerModel.Health.Value > 0 && !playerModel.IsStunned.Value;
    }
}

// ä½¿ç”¨å‘½ä»¤å’ŒæŸ¥è¯¢
public class CombatController : IController
{
    private readonly IArchitecture _architecture;
    
    public CombatController(IArchitecture architecture)
    {
        _architecture = architecture;
    }
    
    public void OnAttackButtonPressed()
    {
        // å…ˆæŸ¥è¯¢
        if (_architecture.SendQuery(new CanAttackQuery()))
        {
            // å†æ‰§è¡Œå‘½ä»¤
            _architecture.SendCommand(new AttackCommand());
        }
    }
}
```

### 4ï¸âƒ£ äº‹ä»¶ç³»ç»Ÿ Event System

```csharp
// å®šä¹‰äº‹ä»¶
public struct DamageDealtEvent
{
    public int Damage;
    public Vector3 Position;
}

// å‘é€äº‹ä»¶
this.SendEvent(new DamageDealtEvent { Damage = 100, Position = position });

// æ³¨å†Œäº‹ä»¶ç›‘å¬
this.RegisterEvent<DamageDealtEvent>(OnDamageDealt);

private void OnDamageDealt(DamageDealtEvent e)
{
    ShowDamageNumber(e.Damage, e.Position);
}
```

## ğŸ“¦ é¡¹ç›®æ¶æ„ Architecture

æ¡†æ¶éµå¾ªæ¸…æ´æ¶æ„åŸåˆ™ï¼Œå…·æœ‰ä»¥ä¸‹å±‚æ¬¡ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           View / UI                      â”‚  UI å±‚ï¼šç”¨æˆ·ç•Œé¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Controller                    â”‚  æ§åˆ¶å±‚ï¼šå¤„ç†ç”¨æˆ·è¾“å…¥
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             System                       â”‚ é€»è¾‘å±‚ï¼šä¸šåŠ¡é€»è¾‘
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Model                       â”‚  æ•°æ®å±‚ï¼šæ¸¸æˆçŠ¶æ€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             Utility                      â”‚  å·¥å…·å±‚ï¼šæ— çŠ¶æ€å·¥å…·
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Command / Query                  â”‚  æ¨ªåˆ‡å…³æ³¨ç‚¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å¹³å°é›†æˆ Platform Integration

### Godot é¡¹ç›®

```csharp
// ä½¿ç”¨ GFramework.Godot è·å– Godot ç‰¹å®šåŠŸèƒ½
using GFramework.Godot;

public class GodotPlayerController : Node, IController
{
    public IArchitecture GetArchitecture() => GameArchitecture.Interface;
    
    public override void _Ready()
    {
        // ä½¿ç”¨ Godot ç‰¹å®šçš„æ‰©å±•æ–¹æ³•
        this.RegisterEvent<DamageDealtEvent>(OnDamageDealt)
            .UnRegisterWhenNodeExitTree(this);
    }
}
```

### ç§»æ¤åˆ°å…¶ä»–å¹³å°

GFramework.Core æ˜¯çº¯ .NET åº“ï¼Œå¯ä»¥è½»æ¾ç§»æ¤åˆ°ï¼š

- **Unity**ï¼ˆä½¿ç”¨ Unity å®¹å™¨æ›¿ä»£ Godot èŠ‚ç‚¹ï¼‰
- **.NET MAUI**ï¼ˆç”¨äºè·¨å¹³å° UI åº”ç”¨ï¼‰
- **ä»»ä½•å…¶ä»– .NET åº”ç”¨**

---

## ğŸ“– ç‰ˆæœ¬å†å² Version History

### v1.0.0 (2026-01-12)

- âœ… å®Œæ•´çš„æ–‡æ¡£ä½“ç³»åˆ›å»ºå®Œæˆ
- âœ… æ ¸å¿ƒé¡¹ç›®æ–‡æ¡£å®Œå–„
- âœ… æºç ç”Ÿæˆå™¨æ–‡æ¡£å®Œæˆ
- âœ… æœ€ä½³å®è·µæŒ‡å—åˆ›å»º
- âœ… API å‚è€ƒæ–‡æ¡£ç”Ÿæˆ
- âœ… ä»é›¶å¼€å§‹æ•™ç¨‹å®Œå–„

### è®¡åˆ’ä¸­çš„ä»»åŠ¡

- [ğŸ“ å¾…å®Œæˆä»»åŠ¡] - 2 ä¸ªä½ä¼˜å…ˆçº§ä»»åŠ¡
- [ğŸ“ è¿›è¡Œä¸­çš„ä»»åŠ¡] - 0 ä¸ª

---

## ğŸ¯ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¼

**Fork** æœ¬ä»“åº“å¹¶åˆ›å»º Pull Request  
**Report Issues** æŠ¥å‘Š Bug æˆ–åŠŸèƒ½è¯·æ±‚  
**Star** ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼

---

**ğŸ“š æ–‡æ¡£ç»Ÿè®¡**

- **æ–°å¢æ–‡æ¡£**: 10+ ä¸ªæ–‡ä»¶
- **ä»£ç ç¤ºä¾‹**: 150+ ä¸ªå¯ç›´æ¥ä½¿ç”¨çš„ä»£ç ç‰‡æ®µ
- **æ–‡æ¡£æ€»é‡**: 6000+ è¡Œ
- **è¦†ç›–é¡¹ç›®**: 100% é¡¹ç›®æ–‡æ¡£è¦†ç›–

---

**è®¸å¯è¯**: Apache 2.0  
**æ›´æ–°æ—¥æœŸ**: 2026-01-12